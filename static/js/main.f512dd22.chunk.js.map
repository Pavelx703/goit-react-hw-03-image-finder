{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App.module.css","components/Searchbar/SearchBar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/imageApi.js","components/App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","target","value","handleSubmite","preventDefault","props","onSubmit","this","className","styles","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","data","onClick","src","webformatURL","id","alt","tags","ImageGalleryItem_image","ImageGallery","images","length","map","image","key","Button","onLoadMore","App","color","height","width","React","Modal","handleCloseModal","code","window","addEventListener","removeEventListener","children","Overlay","BASE_URL","API_KEY","REQUEST_PARAMS","fetchImages","page","axios","get","isLOading","isModal","idImage","scroll","document","documentElement","scrollHeight","imageAPI","then","hits","catch","error","console","finally","scrollTo","top","behavior","handleOnSubmit","loadMore","getLargeURL","item","find","Number","largeImageURL","openModal","closeModal","prevProps","prevState","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.f512dd22.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Jw7l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3dOmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3ZsBC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3Ptpj\",\"SearchForm\":\"SearchBar_SearchForm__3d25y\",\"SearchForm_button\":\"SearchBar_SearchForm_button__3W76C\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__OKLuz\",\"SearchForm_input\":\"SearchBar_SearchForm_input__1-Sux\"};","import React, { Component } from 'react';\nimport PropTypes, { func } from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmite = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmite}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\n{\n  /* <header className=\"Searchbar\">\n  <form className=\"SearchForm\">\n    <button type=\"submit\" className=\"SearchForm-button\">\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      autocomplete=\"off\"\n      autofocus\n      placeholder=\"Search images and photos\"\n    />\n  </form>\n</header> */\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ data, onClick }) => (\n  <li onClick={onClick} className={styles.ImageGalleryItem}>\n    <img\n      src={data.webformatURL}\n      id={data.id}\n      alt={data.tags}\n      className={styles.ImageGalleryItem_image}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  data: PropTypes.shape({\n    webformatURL: PropTypes.string,\n    tags: PropTypes.string,\n    id: PropTypes.number,\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClick }) => (\n  <>\n    <ul className={styles.ImageGallery}>\n      {images.length > 0 &&\n        images.map(image => (\n          <ImageGalleryItem data={image} key={image.id} onClick={onClick} />\n        ))}\n    </ul>\n  </>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => (\n  <button className={styles.Button} onClick={onLoadMore}>\n    Load More\n  </button>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Loader type=\"BallTriangle\" color={\"#0c52e9\"} height={100} width={100} />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    children: PropTypes.element.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseModal);\n  }\n\n  componentWillMount() {\n    window.removeEventListener('keydown', this.handleCloseModal);\n  }\n\n  handleCloseModal = e => {\n    const { onClick } = this.props;\n    if (e.code === 'Escape') {\n      onClick();\n    }\n  };\n\n  render() {\n    const { onClick, children } = this.props;\n\n    return (\n      <div className={styles.Overlay} onClick={onClick}>\n        <div className={styles.Modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/?q=\";\nconst API_KEY = \"16179084-bcee517f085901c089ac4ea9d\";\nconst REQUEST_PARAMS = \"&image_type=photo&orientation=horizontal&per_page=12\";\n\nexport const fetchImages = (query = \"\", page = 1) =>\n  axios.get(`${BASE_URL}${query}&page=${page}&key=${API_KEY}${REQUEST_PARAMS}`);\n","import React, { Component } from \"react\";\nimport SearchBar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Loader from \"./Loader/Loader\";\nimport Modal from \"./Modal/Modal\";\nimport styles from \"./App.module.css\";\nimport * as imageAPI from \"../services/imageApi\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    query: \"\",\n    page: 1,\n    isLOading: false,\n    isModal: false,\n    idImage: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.page !== page || prevState.query !== query) {\n      if (query !== \"\") {\n        this.fetchImages();\n      }\n    }\n  }\n\n  fetchImages = () => {\n    const { images, query, page } = this.state;\n    const scroll = document.documentElement.scrollHeight;\n    const scrollHeight = page > 1 ? scroll : 0;\n    this.setState({ isLOading: true });\n    imageAPI\n      .fetchImages(query, page)\n      .then(({ data }) => {\n        this.setState({ images: [...images, ...data.hits] });\n      })\n      .catch((error) => console.error(error))\n      .finally(() => {\n        this.setState({ isLOading: false });\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  handleOnSubmit = (query) => {\n    this.setState({ images: [], query, page: 1 });\n  };\n\n  loadMore = () => {\n    const { page } = this.state;\n\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  getLargeURL = () => {\n    const { images, idImage, isModal } = this.state;\n\n    const item = images.find(({ id }) => id === Number(idImage));\n    return isModal ? item.largeImageURL : \"\";\n  };\n\n  openModal = (e) => {\n    this.setState({ isModal: true, idImage: e.target.id });\n  };\n\n  closeModal = () => {\n    this.setState({ isModal: false });\n  };\n\n  render() {\n    const { images, isLOading, isModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.handleOnSubmit} />\n        <ImageGallery images={images} onClick={this.openModal} />\n        {isLOading && <Loader />}\n        {images.length > 0 && <Button onLoadMore={this.loadMore} />}\n        {isModal && (\n          <Modal onClick={this.closeModal}>\n            <img src={this.getLargeURL()} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3ta9x\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3aoS5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay___nfLT\",\"Modal\":\"Modal_Modal__3XaFe\"};"],"sourceRoot":""}